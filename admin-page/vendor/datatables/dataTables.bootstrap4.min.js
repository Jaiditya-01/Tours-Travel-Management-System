!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("datatables.net-bs4",e):(t=t||self).DataTable=t.DataTable||{},t.DataTable.Buttons=e()}(this,(function(){"use strict";function t(t,e,n){var a,i,o,s,l,r=t.style;if(e=e||t.getAttribute("data-dt-colvis-style"),n=n||t.getAttribute("data-dt-colvis-inverted"),null===e)return!1;if(!1!==n||n||(t.contentEditable=!0,e=""),e){for(s=e.split(";"),o=0,l=s.length;o<l;o++)(a=s[o].split(":")).length&&1!==a.length&&(t.style.setProperty(a[0].trim(),a[1].trim()),r.cssText+=";"+a[0].trim()+":"+a[1].trim());!0===n&&(i=window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle)["overflow-x"]&&(t.style.overflowX=i["overflow-x"]),!0===n&&i["overflow-y"]&&(t.style.overflowY=i["overflow-y"])}}var e=function(t,e){if(!(this instanceof e))throw new Error("Constructor called as an expression, not a constructor.");this.classes=e.classes,this.s={},this.s.dt=t.settings()[0],this.selector_opt=e.selector,this.s.columns=this.s.dt.aoColumns,e.columns&&(this.s.columns=e.columns);var n=this.s.dt.oInstance;(this.dom={button:$('<button class="'+this.classes.button+'"/>').attr("type","button"),collection:$("<div/>").addClass(this.classes.collection),background:$("<div/>").addClass(this.classes.background),wrapper:$('<div/>').addClass(this.classes.wrapper).append(this.dom.collection)},this.s.dt.settings()[0].oFeatures.bStateSave&&this.dom.button.attr("data-dt-colvis-active",this.s.dt.oLoadedState.colvis),this.listen())},n=e.prototype;n.button=function(){return this.dom.button},n.enable=function(t){t===undefined&&(t=!0),this.dom.button.prop("disabled",!t)},n.listen=function(){var t=this,e=this.s.dt,n=this.s.dt.oApi,a=e.oInstance,i=function(t){t.stopPropagation()};this.dom.background.off("click.dtc").on("click.dtc",(function(e){t._hide(e),t.dom.background.remove()})),this.dom.wrapper.on("click.dtc","a",(function(e){var n=$(e.target),a=n.closest("a");if(a.length&&a.is("a")){var i=t.s.columns.length;a.attr("data-dt-idx")&&(i=t.s.columns[a.attr("data-dt-idx")]);var o=t.s.dt.aLastSort;o.length>0&&o[0][0]===i||t.s.dt.oInstance.fnSort([[i,a.attr("data-dt-sort")||1]]),t._hide(e)}})).on("keydown.dtc","a",(function(t){13===t.keyCode&&(t.preventDefault(),$(t.target).click())})),$(a).on("button-open.dtc",(function(e){var n=$(e.target).data("dt-buttons"),a=$.fn.dataTable.ext.buttons[n[0].conf.buttons[0].name].hash;e.target!==t.dom.button[0]?t._hide(e):t._show(),e.stopPropagation()})),this.dom.collection.on("click.dtc","a.content.remove",(function(e){t._destructive(e)})),e.on("destroy",(function(){t.dom.wrapper.remove(),t.dom.background.remove(),$(t.s.dt.nTBody).off("click.dtc","th, td"),$(e.dom().wrapper).off(".dtc")}))},n._destructive=function(t){if(confirm("Are you sure you wish to delete this row?")){var e=$(t.target).closest("tr"),n=this.s.dt.row(e[0]);n.remove(),this._hide(t)}},n._hide=function(t){this.dom.wrapper.addClass(this.classes.collection+" "+this.classes.collection+"-hidden"),$(this.s.dt.nTBody).css("overflow",""),this.s.dt.oInstance.fnDraw(!1)},n._show=function(){var e=this,n=this.s.dt,a=n.oInstance,i=this.dom.wrapper;this.dom.wrapper.css({top:$(a.nTButton).offset().top+$(a.nTButton).outerHeight(),left:$(a.nTButton).offset().left}).removeClass(this.classes.collection+"-hidden"),this.dom.background.height($(document).height()).width($(document).width()).appendTo("body"),setTimeout((function(){var t=$(window).height()/2,n=$(window).width()/2;i.css("maxHeight",t+"px").css("maxWidth",n+"px")}),0),this.dom.collection.children().length||this._render(),this.listen(),$(a.nTBody).css("overflow","hidden"),$(document).on("keydown.dtc",function(t){27===t.keyCode&&(t.preventDefault(),e._hide())})},n._render=function(){for(var t=this,e=this.s.columns,n=this.s.dt,a=n.oLanguage,i=this.dom,o=[],s=0,l=e.length;s<l;s++)e[s].bVisible&&o.push(s);i.collection.empty();var r=function(e,n){var a=$('<a href="#">'+e+'</a>').wrap("<li/>").parent();n&&a.addClass("disabled"),i.collection.append(a),a.on("click.dtc",(function(e){e.preventDefault(),t._hide(e),n||t.s.dt.fnSetColumnVis(n,!n)}))};r(a.sEmptyTable,"disabled"),r("Show all",o.length===e.length?null:!1);for(var d=0,c=o.length;d<c;d++)r(n.aoColumns[o[d]].sTitle,o[d],!0)},e.version="2.1.8",e.classes={button:"btn btn-secondary dt-button",collection:"dropdown-menu",wrapper:"dropdown dt-button-collection",background:"dt-button-background",collectionHidden:"hidden"},e.defaults={selector:"thead th"},$.fn.dataTable.Buttons=e,$.fn.DataTable.Buttons=e,$.fn.dataTable.ext.buttonExt={}}));